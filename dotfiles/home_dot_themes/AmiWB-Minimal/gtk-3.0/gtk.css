/* AmiWB-Minimal GTK3 Theme */
/* AmigaOS-inspired minimalist theme */

/* Color definitions */
@define-color ami_gray #A0A2A0;
@define-color ami_blue #586FB0;
@define-color ami_white #FFFFFF;
@define-color ami_black #000000;
@define-color ami_dark_gray #808080;
@define-color ami_inactive_gray #8A8A8A;


/* Base reset - minimal, preserves GTK defaults */
* {
    font-family: "Source Code Pro Semibold", monospace;
    font-size: 9pt;
    font-weight: 600;
    padding: 0;
    margin: 0;
    min-height: 0;
    min-width: 0;
    outline: none;
    -gtk-outline-radius: 0;
}

/* Default spacing between elements */
box > *,
hbox > *,
vbox > * {
    margin: 0px;
    padding-right: 0px;
    padding-left: 0px;

}

/* ============= WINDOW & BASE ============= */
window {
    background-color: @ami_gray;
    color: @ami_black;
}

.background {
    background-color: @ami_gray;
    color: @ami_black;
}

/* ============= BUTTONS ============= */
/* ALL BUTTON TYPES - To change height, edit min-height value below AND in containers section */
button,
button:hover,
button:active,
button:checked,
button:disabled,
button.flat,
button.toggle,
button.toggle:hover,
button.toggle:active,
button.toggle:checked,
button.toggle:disabled,
button.popup,
button.popup:hover,
button.popup:active,
button.popup:disabled,
button.scale,
button.lock,
button.color,
button.font,
button.file,
modelbutton,
modelbutton:hover,
modelbutton:active,
modelbutton:disabled,
toolbar button,
toolbar button:hover,
toolbar button:active,
toolbar button:disabled,
treeview header button,
treeview header button:hover,
treeview header button:active,
spinbutton button,
spinbutton button:hover,
spinbutton button:active,
scrollbar button,
scrollbar button:hover,
scrollbar button:active,
scrollbar button:disabled,
statusbar button,
statusbar button:hover,
statusbar button:active,
statusbar button:disabled,
combobox button,
combobox button:hover,
combobox button:active,
combobox button:disabled,
combobox button.combo {
    padding: 0px 6px;
    min-height: 16px;
}

/* ALL CONTAINERS - To change height, edit min-height value below AND in buttons section */
spinbutton,
spinbutton > entry,
combobox,
combobox > box,
combobox cellview,
combobox arrow,
button > box,
button > arrow {
    min-height: 16px;
    padding: 0;
}

/* Base button styling */
button {
    background-color: @ami_gray;
    color: @ami_black;
    border-style: solid;
    border-width: 1px;
    border-left-color: @ami_white;
    border-top-color: @ami_white;
    border-right-color: @ami_black;
    border-bottom-color: @ami_black;
    margin: 2px;
}

button:hover {
    background-color: shade(@ami_gray, 1.1);
}

button:active,
button:checked {
    background-color: @ami_blue;
    color: @ami_black;
    /* 3D pressed effect - only swap border colors */
    border-left-color: @ami_black;
    border-top-color: @ami_black;
    border-right-color: @ami_white;
    border-bottom-color: @ami_white;
    /* NO dimension changes - padding inherited from universal rule */
}

button:disabled {
    background-color: @ami_gray;
    color: @ami_dark_gray;
    opacity: 0.8;
    /* Dimensions inherited from universal button height rule */
}

/* ============= MENUS ============= */
/* Menu container */
menu {
    background-color: @ami_gray;
    border: 1px solid @ami_black;
    padding: 2px;
}

/* Normal menu items */
menuitem {
    padding: 2px 8px;
    min-height: 16px;
    background-color: @ami_gray;
    color: @ami_black;
}

/* Hover state - only for enabled items */
menuitem:hover:not(:disabled) {
    background-color: @ami_blue;
    color: @ami_white;
}

/* Disabled menu items */
menuitem:disabled {
    background-color: @ami_gray;
    color: @ami_dark_gray;
}

/* Force child elements transparent */
menuitem * {
    background: transparent;
    color: inherit;
}

/* Submenu indicator arrow */
menuitem arrow {
    -gtk-icon-source: -gtk-icontheme("pan-end-symbolic");
    min-width: 12px;
    min-height: 12px;
}

/* Menubar */
menubar {
    background-color: @ami_gray;
    padding: 0;
}

menubar > menuitem {
    padding: 2px 6px;
    min-height: 18px;
}

menubar > menuitem:hover {
    background-color: @ami_blue;
    color: @ami_white;
}

/* ============= ENTRIES ============= */
entry {
    padding: 0px 4px;
    min-height: 16px;  /* 16px + 2px borders = 18px total */
    background-color: @ami_gray;
    color: @ami_black;
    border-style: solid;
    border-width: 1px;
    /* Inset 3D effect - opposite of buttons */
    border-left-color: @ami_black;
    border-top-color: @ami_black;
    border-right-color: @ami_white;
    border-bottom-color: @ami_white;
    margin: 2px;
}

entry selection {
    background-color: @ami_blue;
    color: @ami_white;
}

/* ============= SCROLLBARS ============= */
scrollbar {
    opacity: 1;
    background-color: @ami_gray;
    min-width: 18px;
    min-height: 18px;
}

/* Scrollbar track with 3D inset effect */
scrollbar trough {
    background-color: shade(@ami_gray, 0.95);
    min-width: 18px;
    min-height: 18px;
    border: none;
    /* 3D inset effect: white on top-left, black on bottom-right */
    box-shadow: inset 1px 1px 0 @ami_white,
                inset -1px -1px 0 @ami_black;
}

/* Scrollbar thumb/slider - full width black knob */
scrollbar.vertical slider {
    background-color: @ami_black;
    min-width: 18px;
    min-height: 30px;
    margin: 2px 0; /* 2px padding from top/bottom of track */
    border: none;
    box-shadow: none; /* No outline */
}

scrollbar.horizontal slider {
    background-color: @ami_black;
    min-height: 18px;
    min-width: 30px;
    margin: 0 2px; /* 2px padding from left/right of track */
    border: none;
    box-shadow: none; /* No outline */
}

scrollbar slider:hover {
    background-color: shade(@ami_black, 1.3);
}

scrollbar slider:active {
    background-color: shade(@ami_black, 1.5);
}

/* Scrollbar arrow buttons with 3D effect */
scrollbar button {
    min-width: 18px;
    min-height: 18px;
    background-color: @ami_gray;
    border: none;
    color: @ami_black;
    padding: 0;
    /* 3D raised effect: white on top-left, black on bottom-right */
    box-shadow: inset 1px 1px 0 @ami_white,
                inset -1px -1px 0 @ami_black;
}

scrollbar button:hover {
    background-color: shade(@ami_gray, 1.05);
    color: @ami_black; /* Keep arrows black */
}

scrollbar button:active {
    /* Pressed effect - invert the 3D */
    box-shadow: inset 1px 1px 0 @ami_black,
                inset -1px -1px 0 @ami_white;
    color: @ami_black; /* Keep arrows black */
    padding: 0; /* No dimension changes - only border inversion */
    min-width: 18px;
    min-height: 18px;
}

scrollbar button:disabled {
    color: @ami_black; /* Keep arrows black even when disabled */
    opacity: 1; /* Don't fade the button */
}

/* Arrow symbols for scrollbar buttons */
scrollbar.vertical button.up {
    -gtk-icon-source: -gtk-icontheme("pan-up-symbolic");
}

scrollbar.vertical button.down {
    -gtk-icon-source: -gtk-icontheme("pan-down-symbolic");
}

scrollbar.horizontal button:first-child {
    -gtk-icon-source: -gtk-icontheme("pan-start-symbolic");
}

scrollbar.horizontal button:last-child {
    -gtk-icon-source: -gtk-icontheme("pan-end-symbolic");
}

/* Make arrow icons smaller and centered */
scrollbar button box {
    min-width: 12px;
    min-height: 12px;
}

/* Note: -gtk-overlay-scrolling removed - not supported in all GTK3 versions */
/* Scrollbars are always visible by default in GTK 3.0-3.15 */

/* ============= LISTS & CONTAINERS ============= */
treeview,
list {
    background-color: @ami_gray;
    color: @ami_black;
}

/* Container border */
scrolledwindow {
    border: 1px solid @ami_black;
}

scrolledwindow treeview,
scrolledwindow list {
    border: none;
}

treeview:selected,
list row:selected {
    background-color: @ami_blue;
    color: @ami_white;
}

/* List headers */
treeview header button {
    background-color: @ami_gray;
    border: 1px solid @ami_dark_gray;
    /* Dimensions inherited from universal button height rule */
}

/* ============= NOTEBOOKS/TABS ============= */
/*notebook {
    background-color: @ami_gray;
}*/

/*notebook header {
    background-color: @ami_gray;
}*/

notebook header.top {
    border-bottom: 1px solid @ami_black;
}

notebook tab {
    padding: 2px 4px;  /* Reduced vertical padding for uniform height */
    background-color: @ami_inactive_gray;
    color: @ami_black;
    border: 1px solid @ami_black;
    border-bottom-color: @ami_gray;
    margin: 0 -1px 0 0;
    transition: background-color 0.1s;
}

/* First tab - no negative left margin */
notebook header tab:first-child {
    margin-left: 0;
}

/* Inactive tabs explicitly */
notebook header tab:not(:checked) {
    background-color: @ami_inactive_gray;
}

/* Active tab - no bottom border */
notebook header.top tab:checked,
notebook header.top tab:active,
notebook header.top tab:selected {
    background-color: @ami_gray;
    border-bottom-color: @ami_gray;
    margin-bottom: -1px;
}

/* Force refresh on hover to help state changes */
notebook header tab:hover {
    background-color: shade(@ami_inactive_gray, 1.05);
}

notebook header tab:checked:hover {
    background-color: @ami_gray;
}

/* Tab close button - borderless and compact */
notebook tab button,
notebook tab button.flat {
    min-width: 14px;
    min-height: 14px;
    padding: 0;
    margin: 0;
    margin-left: 4px;  /* Small gap from tab label */
    background: transparent;
    border: none;
    box-shadow: none;
    color: @ami_black;
}

notebook tab button:hover {
    background-color: rgba(0, 0, 0, 0.1);  /* Subtle hover effect */
    border: none;
    box-shadow: none;
}

notebook tab button:active {
    background-color: rgba(0, 0, 0, 0.2);  /* Darker when clicked */
    border: none;
    box-shadow: none;
    padding: 0;  /* No shift on press */
}

notebook stack {
    border: 1px solid @ami_black;
    border-top: none;
    padding: 4px;
}

/* ============= TOOLBARS ============= */
toolbar {
    padding: 2px;
    background-color: @ami_gray;
}

toolbar button {
    margin: 0 2px;
    /* Dimensions inherited from universal button height rule */
}

toolbar button:first-child {
    margin-left: 0;
}

toolbar button:last-child {
    margin-right: 0;
}

/* Icon sizing - GTK3 uses min-width/min-height for icons */
toolbar button image,
button image {
    min-width: 18px;
    min-height: 18px;
}

/* ============= DROPDOWNS/COMBOBOX ============= */
combobox button.combo {
    padding-right: 20px;
}

combobox arrow {
    min-width: 16px;
    -gtk-icon-source: -gtk-icontheme("pan-down-symbolic");
    color: @ami_black;
}

combobox menu {
    border: 1px solid @ami_black;
}

/* Note: GTK3 doesn't support ::after pseudo-element for dropdown indicators */
/* Combobox arrow is controlled by combobox arrow selector instead */

/* ============= PROGRESSBAR ============= */
progressbar {
    min-height: 8px;
}

progressbar trough {
    background-color: @ami_gray;
    border: 1px solid @ami_dark_gray;
}

progressbar progress {
    background-color: @ami_blue;
    min-height: 6px;
}

/* ============= CHECKBOXES & RADIOS ============= */
checkbutton check,
radiobutton radio {
    min-width: 14px;
    min-height: 14px;
    margin: 0 4px 0 0;
    background-color: shade(@ami_gray, 1.15);
    border: 1px solid @ami_black;
}

checkbutton check:checked {
    background-color: @ami_blue;
}

radiobutton radio {
    border-radius: 50%;
}

radiobutton radio:checked {
    background-color: @ami_blue;
}

/* ============= TOOLTIPS ============= */
tooltip {
    background-color: shade(@ami_gray, 1.1);
    color: @ami_black;
    border: 1px solid @ami_black;
    padding: 2px 4px;
}

/* ============= SEPARATORS ============= */
separator {
    background-color: @ami_dark_gray;
    min-width: 1px;
    min-height: 1px;
}

/* ============= FRAMES ============= */
frame {
    border: 1px solid @ami_dark_gray;
    padding: 2px;
}

frame > label {
    margin: 0 2px;
}

/* ============= TEXTVIEW ============= */
textview,
textview text {
    background-color: @ami_gray;
    color: @ami_black;
}

textview text selection {
    background-color: @ami_blue;
    color: @ami_white;
}

/* ============= DIALOG ============= */
dialog {
    background-color: @ami_gray;
}

/* ============= SIDEBAR ============= */
.sidebar {
    background-color: shade(@ami_gray, 0.95);
    border-right: 1px solid @ami_dark_gray;
}

/* ============= SPINBUTTONS ============= */
spinbutton {
    background-color: @ami_gray;
    border-style: solid;
    border-width: 1px;
    border-left-color: @ami_black;
    border-top-color: @ami_black;
    border-right-color: @ami_white;
    border-bottom-color: @ami_white;
    margin: 2px;
}

spinbutton entry {
    border: none;
    margin: 0;
    background-color: @ami_gray;
}

spinbutton button {
    margin: 0;
    /* Dimensions inherited from universal button height rule */
}

/* ============= STATUSBAR ============= */
statusbar {
    background-color: @ami_gray;
    padding: 0;
}

/* Reset all padding/margins like Prof-XFCE does */
statusbar *,
statusbar frame,
statusbar frame > border,
statusbar .frame {
    padding: 0;
    margin: 0;
}

/* Statusbar buttons */
statusbar button {
    background-color: @ami_gray;
    color: @ami_black;
    border-style: solid;
    border-width: 1px;
    border-left-color: @ami_white;
    border-top-color: @ami_white;
    border-right-color: @ami_black;
    border-bottom-color: @ami_black;
    margin: 1px 2px;
    /* Dimensions inherited from universal button height rule */
}

/* Statusbar frame container - no border on parent */
statusbar frame {
    background-color: @ami_gray;
    border: none;  /* No border on outer container */
    padding: 0;
    margin: 0;
    font-size: 8pt;  /* Smaller font to reduce height */
}

/* Statusbar frame inner border - only this shows the 3D inset */
statusbar frame > border,
statusbar .frame {
    background-color: @ami_gray;
    border-style: solid;
    border-width: 1px;
    /* Inset effect like entry fields */
    border-left-color: @ami_black;
    border-top-color: @ami_black;
    border-right-color: @ami_white;
    border-bottom-color: @ami_white;
    padding: 0;  /* No padding */
    margin: 0;
    font-size: 8pt;  /* Force smaller font */
}

/* All elements inside statusbar frame - aggressive height control */
statusbar frame *,
statusbar frame label,
statusbar frame box,
statusbar frame widget {
    padding: 0;
    margin: 0;
    font-size: 8pt;  /* Smaller font throughout */
    min-height: 12px;
}

/* Labels inside statusbar */
statusbar label {
    padding: 0 4px;  /* Only horizontal padding */
    color: @ami_black;
    font-size: 8pt;
}


/* ============= SPECIAL FIXES ============= */
/* Disable animations */
* {
    transition: none;
    animation: none;
}

/* Fix overlay elements */
.background.popup {
    background-color: @ami_gray;
}

/* Popover menus */
popover {
    background-color: @ami_gray;
    border: 1px solid @ami_black;
}

popover modelbutton {
    padding: 2px 8px;
    min-height: 18px;
    background-color: transparent;
    color: @ami_black;
}

popover modelbutton:hover {
    background-color: @ami_blue;
    color: @ami_white;
}